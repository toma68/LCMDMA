<template>
  <main>
    <v-card elevation="5" style="margin-top: 75px;">
      <div class="card-body">
        <svg id="icon-chateau" viewBox="192.34797516321805 108.36917018890381 127.30404804810678 199.09403228759766"
             height="100"
             class="logo-img">
          <g xmlns="http://www.w3.org/2000/svg"
             transform="matrix(4.147792369127274, 0, 0, 4.147792369127274, 148.1573929786682, 100.07358694076538)">
            <path fill="#1b2239" enable-background="new" transform="matrix(1, 0, 0, 1, 1, 0)"
                  data-type="polygon" d="M10.654 28.217L10.732 37.483L25.973 46.34L25.895 37.074Z"></path>
            <path fill="#1b2239" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M25.895 37.074L25.973 46.34L41.313 37.484L41.234 28.218Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M34.961 30.654L34.996 41.187L38.161 43.027L38.126 32.493Z"></path>
            <path fill="rgba(217,225,231,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M38.126 32.493L38.161 43.027L41.346 41.188L41.311 30.654Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M34.961 30.654L38.126 32.493L41.311 30.654L38.146 28.815Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M22.807 37.627L22.842 48.161L26.007 50L25.972 39.466Z"></path>
            <path fill="rgba(217,225,231,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M25.972 39.466L26.007 50L29.192 48.161L29.157 37.627Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M22.807 37.627L25.972 39.466L29.157 37.627L25.992 35.788Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M10.733 30.646L10.768 41.179L13.933 43.018L13.898 32.485Z"></path>
            <path fill="rgba(217,225,231,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M13.898 32.485L13.933 43.018L17.118 41.179L17.083 30.646Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M10.733 30.646L13.898 32.485L17.083 30.646L13.919 28.807Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M10.654 25.622L10.732 30.658L25.973 39.515L25.895 34.479Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M18.154 34.971L25.973 39.515L25.895 34.479L18.154 29.981Z"></path>
            <path fill="rgba(217,225,231,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M25.895 34.479L25.973 39.515L41.313 30.659L41.234 25.623Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M33.538 35.147L41.313 30.659L41.234 25.623L33.538 30.066Z"></path>
            <path fill="rgba(255,255,255,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M10.654 25.622L25.895 34.479L41.234 25.623L25.993 16.765Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M13.736 12.872L13.789 25.749L25.931 32.805L25.878 19.928Z"></path>
            <path fill="rgba(217,225,231,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M25.878 19.928L25.931 32.805L38.152 25.75L38.099 12.872Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M13.736 12.872L25.878 19.928L38.099 12.872L25.957 5.816Z"></path>
            <path fill="rgba(217,225,231,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M12.528 12.634L12.528 14.879L25.901 22.65L25.901 20.405Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M18.929 16.354L18.929 18.599L12.528 14.879L12.528 12.634Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M25.901 20.405L25.901 22.65L39.36 14.88L39.36 12.635Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M34.266 15.576L34.266 17.821L25.901 22.65L25.901 20.405Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M28.498 18.906L28.498 21.15L25.901 22.65L25.901 20.405Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M12.528 12.634L25.901 20.405L39.36 12.635L25.987 4.863Z"></path>
            <path fill="rgba(217,225,231,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M22.735 3.853L22.743 6.817L23.944 7.515L23.936 4.551Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M23.936 4.551L23.944 7.515L25.944 6.36L25.935 3.396Z"></path>
            <path fill="rgba(217,225,231,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M25.935 3.396L25.944 6.36L27.932 7.516L27.923 4.552Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M27.923 4.552L27.932 7.516L29.141 6.817L29.133 3.853Z"></path>
            <path fill="rgba(255,255,255,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon"
                  d="M22.735 3.853L23.936 4.551L25.935 3.396L27.923 4.552L29.133 3.853L25.943 2Z"></path>
            <path fill="rgba(217,225,231,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M29.605 5.529L29.613 8.493L33.158 10.553L33.15 7.589Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M33.15 7.589L33.158 10.553L34.367 9.855L34.359 6.891Z"></path>
            <path fill="rgba(255,255,255,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M29.605 5.529L33.15 7.589L34.359 6.891L30.814 4.831Z"></path>
            <path fill="rgba(217,225,231,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M34.831 8.566L34.84 11.53L36.827 12.685L36.819 9.721Z"></path>
            <path fill="rgba(217,225,231,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M34.82 10.876L34.828 13.84L36.029 14.537L36.02 11.573Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M36.02 11.573L36.029 14.537L39.238 12.685L39.229 9.721Z"></path>
            <path fill="rgba(255,255,255,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon"
                  d="M34.831 8.566L36.819 9.721L34.82 10.876L36.02 11.573L39.229 9.721L36.04 7.868Z"></path>
            <path fill="rgba(217,225,231,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M17.473 6.89L17.482 9.854L18.683 10.552L18.675 7.588Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M18.675 7.588L18.683 10.552L22.251 8.492L22.243 5.528Z"></path>
            <path fill="rgba(255,255,255,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M17.473 6.89L18.675 7.588L22.243 5.528L21.041 4.83Z"></path>
            <path fill="rgba(217,225,231,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M29.558 13.913L29.567 16.877L30.768 17.575L30.759 14.611Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M30.759 14.611L30.768 17.575L34.335 15.515L34.327 12.551Z"></path>
            <path fill="rgba(255,255,255,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M29.558 13.913L30.759 14.611L34.327 12.551L33.126 11.853Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M14.982 9.721L14.99 12.685L16.991 11.53L16.982 8.566Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M15.761 11.574L15.769 14.538L16.978 13.84L16.969 10.876Z"></path>
            <path fill="rgba(217,225,231,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M12.571 9.72L12.58 12.684L15.769 14.538L15.761 11.574Z"></path>
            <path fill="rgba(255,255,255,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon"
                  d="M12.571 9.72L15.761 11.574L16.969 10.876L14.982 9.721L16.982 8.566L15.781 7.867Z"></path>
            <path fill="rgba(217,225,231,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M17.442 12.551L17.451 15.515L20.995 17.575L20.987 14.611Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M20.987 14.611L20.995 17.575L22.204 16.877L22.196 13.913Z"></path>
            <path fill="rgba(255,255,255,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M17.442 12.551L20.987 14.611L22.196 13.913L18.651 11.853Z"></path>
            <path fill="rgba(217,225,231,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M22.669 15.588L22.677 18.552L25.866 20.405L25.857 17.441Z"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M25.857 17.441L25.866 20.405L29.075 18.552L29.067 15.588Z"></path>
            <path fill="rgba(255,255,255,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon"
                  d="M22.669 15.588L25.857 17.441L29.067 15.588L27.866 14.89L25.865 16.046L23.877 14.89Z"></path>
            <path fill="rgba(255,255,255,1)" transform="matrix(1, 0, 0, 1, 0, 0)" data-type="polygon"
                  d="M33.6 25.76L33.6 25.76L29.23 28.283L29.234 29.754L34.81 26.535Z"></path>
            <path fill="rgba(126,153,170,1)" d="M34.81002 26.53508l-0.0141-4.97855c-0.00251-0.88464-0.31705-1.50612-0.82221-1.7951
								c-0.19256-0.10974-0.41311-0.17074-0.65455-0.18057c0.16805 0.31499 0.26535 0.71665 0.26672 1.2003l0.01412 4.97855
								L34.81002 26.53508L34.81002 26.53508z" transform="matrix(1, 0, 0, 1, 0, 0)"></path>
            <path fill="#1b2239" d="M33.58588 20.78116c-0.00137-0.48365-0.09867-0.88531-0.26672-1.2003
							c-0.39321-0.01606-0.84225 0.10468-1.31928 0.38011c-1.54081 0.88958-2.78481 3.04429-2.7798 4.81483l0.00995 3.50691
							l4.36998-2.52299L33.58588 20.78116z" transform="matrix(1, 0, 0, 1, 0, 0)"></path>
            <path fill="rgba(255,255,255,1)" transform="matrix(1, 0, 0, 1, 0, 0)" data-type="polygon"
                  d="M18.249 25.76L18.249 25.76L22.619 28.283L22.614 29.754L17.039 26.535Z"></path>
            <path fill="rgba(217,225,231,1)" d="M17.03866 26.53508l0.0141-4.97855c0.00251-0.88464 0.31705-1.50612 0.82221-1.7951
								c0.19256-0.10974 0.41311-0.17074 0.65455-0.18057c-0.16805 0.31499-0.26535 0.71665-0.26673 1.2003l-0.01412 4.97855
								L17.03866 26.53508L17.03866 26.53508z" transform="matrix(1, 0, 0, 1, 0, 0)"></path>
            <path fill="#1b2239" d="M18.2628 20.78116c0.00137-0.48365 0.09867-0.88531 0.26673-1.2003
							c0.39321-0.01606 0.84225 0.10468 1.31928 0.38011c1.54081 0.88958 2.78481 3.04429 2.7798 4.81483l-0.00995 3.50691
							l-4.36998-2.52299L18.2628 20.78116z" transform="matrix(1, 0, 0, 1, 0, 0)"></path>
            <path fill="rgba(126,153,170,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M33.728 38.557L33.328 38.324L33.338 42.094L33.739 42.327Z"></path>
            <path fill="rgba(217,225,231,1)" d="M33.30091 37.61907l-0.40079-0.23292c0.26304 0.15286 0.42628 0.4775 0.42759 0.93821l0.40079 0.23292
								C33.7272 38.09657 33.56395 37.77193 33.30091 37.61907z" enable-background="new"
                  transform="matrix(1, 0, 0, 1, 0, 0)"></path>
            <path fill="rgba(217,225,231,1)" enable-background="new" transform="matrix(1, 0, 0, 1, 0, 0)"
                  data-type="polygon" d="M30.454 40.448L30.053 40.215L30.063 43.985L30.464 44.218Z"></path>
            <path fill="rgba(217,225,231,1)" d="M33.54583 37.19744l-0.40079-0.23291c-0.3293-0.19137-0.78508-0.1649-1.28746 0.12514l0.4008 0.23292
								C32.76075 37.03255 33.21653 37.00608 33.54583 37.19744z" enable-background="new"
                  transform="matrix(1, 0, 0, 1, 0, 0)"></path>
            <path fill="rgba(126,153,170,1)" d="M32.25837 37.32259l-0.4008-0.23292c-0.99846 0.57646-1.80807 1.97876-1.80482 3.12548l0.4008 0.23291
								C30.4503 39.30135 31.25991 37.89906 32.25837 37.32259z" enable-background="new"
                  transform="matrix(1, 0, 0, 1, 0, 0)"></path>
            <path fill="#1b2239" d="M31.60895 40.58251l0.15527 0.09581c-0.0511-0.0297-0.12183-0.02556-0.19983 0.01947l-0.15527-0.09581
							C31.48712 40.55695 31.55786 40.55281 31.60895 40.58251z" enable-background="new"
                  transform="matrix(1, 0, 0, 1, 0, 0)"></path>
            <path fill="rgba(217,225,231,1)" d="M31.36647 41.36317l-0.15527-0.09581c-0.05049-0.02934-0.08182-0.09173-0.08207-0.1804
							c-0.00051-0.17809 0.12501-0.39549 0.28-0.48497l0.15527 0.09581c-0.15499 0.08948-0.2805 0.30688-0.28 0.48498
							C31.28465 41.27145 31.31598 41.33383 31.36647 41.36317z" enable-background="new"
                  transform="matrix(1, 0, 0, 1, 0, 0)"></path>
            <path fill="#1b2239" d="M31.56439 40.69779l-0.15527-0.09581c-0.0875 0.05051-0.16557 0.14181-0.21691 0.24378l0.15527 0.09581
							C31.39883 40.8396 31.4769 40.7483 31.56439 40.69779z" enable-background="new"
                  transform="matrix(1, 0, 0, 1, 0, 0)"></path>
            <path fill="#1b2239" d="M31.19222 40.84576c-0.0396 0.07865-0.06331 0.16364-0.06309 0.2412
							c0.00025 0.08868 0.03159 0.15107 0.08207 0.1804l0.15527 0.09581c-0.05049-0.02934-0.08182-0.09172-0.08208-0.1804
							c-0.00022-0.07756 0.02349-0.16255 0.06309-0.2412L31.19222 40.84576z" enable-background="new"
                  transform="matrix(1, 0, 0, 1, 0, 0)"></path>
            <path fill="#1b2239" d="M31.5644 40.69779c0.15499-0.08948 0.28132-0.01749 0.28183 0.16061
							c0.00051 0.17842-0.12501 0.39582-0.28 0.4853c-0.15499 0.08948-0.28132 0.01749-0.28183-0.16093
							C31.28389 41.00468 31.40941 40.78727 31.5644 40.69779z" enable-background="new"
                  transform="matrix(1, 0, 0, 1, 0, 0)"></path>
            <path fill="rgba(255,255,255,1)" d="M18.06081 17.56738c-0.36099 0.11219-0.69759 0.32687-0.98051 0.60002
			c-0.25856 0.25856-0.46344 0.6049-0.60493 0.96589c-0.02439 0.13172-0.19023 0.13172-0.22927 0
			c-0.24391-0.74151-0.83908-1.32688-1.57568-1.56591c-0.12196-0.05365-0.12196-0.21462 0-0.2488
			c0.37561-0.11219 0.71221-0.34634 0.97566-0.60002c0.27318-0.27321 0.47806-0.60002 0.60002-0.98054
			c0.03904-0.11707 0.20488-0.11707 0.22927 0c0.14149 0.38052 0.34637 0.70733 0.60493 0.98054
			c0.28292 0.25368 0.61952 0.48783 0.98051 0.60002C18.19254 17.35276 18.19254 17.51372 18.06081 17.56738z"
                  transform="matrix(1, 0, 0, 1, 0, 0)"></path>
          </g>
        </svg>
        <v-card-title class="login-title">
          Inscription
        </v-card-title>
        <v-form @submit.prevent="submit">
          <v-text-field
              v-model="login"
              label="Pseudo"
              name="login"
              :rules="loginRules"
              prepend-icon="mdi-account-circle"
              type="text"
              required
          ></v-text-field>
          <v-text-field
              v-model="password"
              label="Mot de passe"
              name="password"
              prepend-icon="mdi-lock"
              :append-icon="showPassword ? 'mdi-eye' : 'mdi-eye-off'"
              :rules="passwordRules"
              :type="showPassword ? 'text' : 'password'"
              required
              @click:append="showPassword = !showPassword"
          ></v-text-field>
          <v-row>
            <v-col cols="12" sm="6">
              <v-text-field
                  v-model="firstName"
                  label="Prénom"
                  name="firstName"
                  :rules="firstNameRules"
                  prepend-icon="mdi-account"
                  type="text"
                  required
              ></v-text-field>
            </v-col>
            <v-col cols="12" sm="6">
              <v-text-field
                  v-model="lastName"
                  label="Nom"
                  name="lastName"
                  :rules="lastNameRules"
                  type="text"
                  required
              ></v-text-field>
            </v-col>
          </v-row>
          <v-text-field
              v-model="email"
              label="Email"
              name="email"
              :rules="emailRules"
              prepend-icon="mdi-email"
              type="email"
              required
          ></v-text-field>
          <v-card-subtitle class="login-subtitle">
          </v-card-subtitle>
          <transition name="bounce">
            <div v-if="switchPrestataire">
              <div>Informations prestataire</div>
              <v-text-field
                  v-model="siret"
                  label="SIRET"
                  name="siret"
                  :rules="siretRules"
                  prepend-icon="mdi-account-card"
                  type="text"
                  required
              ></v-text-field>
              <v-text-field
                  v-model="companyName"
                  label="Nom de l'entreprise"
                  name="companyName"
                  :rules="companyNameRules"
                  prepend-icon="mdi-opacity"
                  type="text"
                  required
              ></v-text-field>
              <v-text-field
                  v-model="companyDescription"
                  label="Description de l'entreprise"
                  name="companyDescription"
                  :rules="companyDescriptionRules"
                  prepend-icon="mdi-comment-outline"
                  type="text"
                  required
              ></v-text-field>
            </div>
          </transition>
          <v-switch
              v-model="switchPrestataire"
              :label="'Devenir prestataire'"
              @change="prestataire(switchPrestataire)"
          ></v-switch>
          <div class="btn-toolbar">
            <v-btn :disabled="invalid" type="submit">S'inscrire</v-btn>
            <v-btn @click="reset">Annuler</v-btn>
          </div>
        </v-form>
        <div>
          <br>
          Vous êtes déjà inscrit ? <router-link to="/login">Connectez-vous</router-link>
        </div>
      </div>
    </v-card>
    <v-snackbar
        v-model="snackbar"
        :timeout="-1"
        :value="true"
        absolute
        bottom
        :color="snackbarColor"
        outlined
        right
    >
      {{ snackbarText }}
      <v-btn
          text
          @click="snackbar = false"
      >
        Fermer
      </v-btn>
    </v-snackbar>
  </main>
</template>

<script>
export default {
  name: "InscriptionComponent",
  data() {
    return {

      invalid: null,
      login: "",
      loginRules: [
        v => !!v || "Un pseudo est requis",
      ],
      password: "",
      showPassword: false,
      passwordRules: [
        v => !!v || 'Un mot de passe est requis',
        v => (v && v.length >= 8) || 'Minimum 8 caractères',
      ],
      firstName: "",
      firstNameRules: [
        v => !!v || "Un prénom est requis",
      ],
      lastName: "",
      lastNameRules: [
        v => !!v || "Un nom est requis",
      ],
      email: "",
      emailRules: [
        v => !!v || "Un email est requis",
        v => /.+@.+\..+/.test(v) || "Email invalide",
      ],
      switchPrestataire: false,
      siret: "",
      siretRules: [
        v => !!v || "Un SIRET est requis",
        v => (v && v.length >= 14) || 'Le siret ne fait pas 14 caractères',
      ],
      companyName: "",
      companyNameRules: [
        v => !!v || "Un nom d'entreprise est requis",
      ],
      companyDescription: "",
      companyDescriptionRules: [
        v => !!v || "Une description est requise",
      ],
      snackbar: false,
      snackbarText: "",
      snackbarColor: "",
    };
  },
  methods: {
    successRequest(message) {
      this.snackbar = true;
      this.snackbarText = message;
      this.snackbarColor = "success";
    },
    errorRequest(message) {
      this.snackbar = true;
      this.snackbarText = message;
      this.snackbarColor = "error";
    },
    prestataire: function (switchPrestataire) {
      var chateau = document.getElementById("icon-chateau");
      if (switchPrestataire) {
        chateau.style.transform = "rotate(360deg)";
      } else {
        chateau.style.transform = "rotate(-360deg)";
      }
    },
    submit: function () {
      console.log('Submit executé')
      if (this.switchPrestataire) {
        console.log('Submit prestataire')
        this.$store.dispatch("registerPrestataire", {
          login: this.login,
          password: this.password,
          prenom: this.firstName,
          nom: this.lastName,
          email: this.email,
          siret: this.siret,
          nomEntreprise: this.companyName,
          description: this.companyDescription,
        }).then(response => {
              if (response.error) {
                this.errorRequest(response.message)
              } else {
                this.successRequest(response.message)
              }
            })
            .catch(error => {
              this.errorRequest(error.response)
            });
      } else {
        console.log('Submit client')
        this.$store.dispatch("registerUser", {
          login: this.login,
          password: this.password,
          firstName: this.firstName,
          lastName: this.lastName,
          email: this.email,
        }).then(response => {
          if (response.error) {
            this.errorRequest(response.message)
          } else {
            this.successRequest(response.message)
          }
        })
      }
    },
    reset() {
      this.login = "";
      this.password = "";
      this.firstName = "";
      this.lastName = "";
      this.email = "";
      this.switchPrestataire = false;
      this.siret = "";
      this.companyName = "";
      this.companyDescription = "";
    },
  }
}
</script>

<style scoped>
#icon-chateau {
  transition: transform 0.5s;
}

main {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 110vh;
  background-image: url( '../../assets/baroque_foncé.jpg');
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-size: cover;
}

.card-body {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  padding: 50px;
}

v-form {
  margin: 50px;
}

.login-title {
  font-family: 'Secular One', sans-serif;
  font-size: 30px;
}

button {
  margin-right: 12px;
}

@keyframes bounce-in {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1.25);
  }
  100% {
    transform: scale(1);
  }
}
</style>